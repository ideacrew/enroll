
<legend class='beta bold mb-3'><%= l10n("personal_information") %></legend>
<div class="row mb-4">
  <div class="col-md-3 mb-2">
    <label for="inputFirstname" class='required'><%= l10n('first_name') %></label>
    <%= f.text_field :first_name, placeholder: l10n('first_name'), required: 'true', id: 'inputFirstname', class: 'form-control' %>
    <div class="invalid-feedback">
      <%= l10n("invalid_first_name") %>
    </div>
  </div>
  <div class="col-md-3 mb-2">
    <label for="inputLastname" class='required'><%= l10n('last_name') %></label>
    <%= f.text_field :last_name, placeholder: l10n('last_name'), required: 'true', id: 'inputLastname', class: 'form-control' %>
    <div class="invalid-feedback">
      <%= l10n("invalid_last_name") %>
    </div>
  </div>
  <div class="col-md-3 mb-2">
    <label for="inputEmail" class='required'><%= l10n('email_address') %></label>
    <%= f.email_field :email, placeholder: l10n('placeholder_email'), required: 'true', id: 'inputEmail', class: 'form-control' %>
    <div class="invalid-feedback">
      <%= l10n("invalid_email") %>
    </div>
  </div>
  <div class="col-md-3 mb-2">
    <label for="inputDOB" class='required'><%= l10n('broker_agencies.dob') %></label>
    <%= f.date_field :dob, placeholder: l10n('dob_format'), min: 110.years.ago, max: 16.years.ago, required: true, class: 'form-control', onblur: 'validDob(this)' %>
    <div class="invalid-feedback">
      <%= l10n("invalid_dob") %>
    </div>
  </div>
</div>


<script>
  var cleave = new Cleave('#inputDOB', {
    date: true,
    datePattern: ['m', 'd', 'Y']
  });

  function validDob(element) {
    if (element.value && element.value.length < 10) {
      swal({
        title: "Invalid DOB Format",
        text: "DOB must be entered as MM/DD/YYYY",
        icon: "warning"
      });
      element.value = '';
    }
  }
</script>