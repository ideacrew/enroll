<%#= render 'menu', :active_tab => "home-tab" %>

<div id="general_agency_form" class="container">
  <h3>General Agency / TPA Modification</h3>
  <%= form_for @organization, as: :organization, url: general_agencies_profile_path(@general_agency_profile), method: :patch do |f| %>
      <%= f.hidden_field :id %>
      <%= render 'shared/error_messages', :object => @organization %>
      <div class="row">
        <div class="col-md-9 col-sm-9 col-xs-12">
          <h4>Personal Information</h4>
          <div class="row no-buffer row-form-wrapper">
            <div class="col-md-4 col-sm-4 col-xs-12 form-group-lg no-pd">
              <%= f.text_field :first_name, class: "floatlabel form-control interaction-field-control-person-first-name", required: true, placeholder: 'FIRST NAME *', autocomplete: :off %>
            </div>
            <div class="col-md-4 col-sm-4 col-xs-12 form-group-lg no-pd">
              <%= f.text_field :last_name, class: "floatlabel form-control interaction-field-control-person-last-name", required: true, placeholder: 'LAST NAME *', autocomplete: :off %>
            </div>
            <div class="col-md-4 col-sm-4 col-xs-12 form-group-lg no-pd">
              <%= datepicker_control f, :dob, {:class => "floatlabel form-control interaction-field-control-person-dob", :placeholder => "DATE OF BIRTH *", :'data-date-min' => "-110y", :'data-date-max' => "+0", :'data-date-format' => 'yy-mm-dd', required: true} %>
            </div>
          </div>
        </div>
        <div class="col-md-9 col-sm-9 col-xs-12">
          <div class="row no-buffer row-form-wrapper" style="border-top: 0;">
            <div class="col-md-6 col-sm-4 col-xs-12 form-group-lg no-pd">
              <%= f.text_field :email, class: "floatlabel form-control interaction-field-control-person-email", required: true, readonly: true, placeholder: 'EMAIL *' %>
            </div>
            <% if @filter != 'staff' %>
                <div class="col-md-6 col-sm-4 col-xs-12 form-group-lg no-pd">
                  <%= f.text_field :npn, class: "floatlabel form-control npn_field interaction-field-control-person-npn", required: true,readonly: true, placeholder: 'NPN *' %>
                </div>
            <% end %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-9 col-sm-9 col-xs-12">
          <h4>General Agency Information</h4>
          <div class="row no-buffer row-form-wrapper">
            <%= render "shared/organizations/entity_name_and_type_fields", f: f, entity_kinds: Organization::ENTITY_KINDS[0..3] %>
          </div>
          <div class="row no-buffer row-form-wrapper">
            <div class="col-sm-6 col-xs-12 form-group form-group-lg no-pd">
              <%= f.text_field :home_page, class: "floatlabel form-control interaction-field-control-home-page", placeholder: 'WEBSITE URL' %>
            </div>
          </div>
          <div class="row no-buffer row-form-wrapper" style="border-top: 0;">
            <%= render "shared/general_agency_profile_fields", f: f %>
          </div>


          <div class="action-group">
            <%= render "shared/office_locations", f: f %>
            <div class="row no-buffer">
              <button type="submit" class="btn btn-primary pull-right create_general_agency_btn interaction-click-control-create-general-agency">Update
                General Agency
              </button>
            </div>
          </div>
        </div>
      </div>
      </div>
  <% end %>
  </div>