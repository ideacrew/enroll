<style>
  .audit-container {
    width: 80%;
    margin: 20px auto;
    background-color: #f5f5f5;
    padding: 20px;
    border: 1px solid #ddd;
  }

  .filters-container {
    margin-bottom: 10px;
  }

  .filters-toggle {
    cursor: pointer;
    padding: 5px;
    margin-bottom: 10px;
  }

  .filters {
    display: none;
    flex-wrap: wrap;
    align-items: center;
    margin-bottom: 10px;
    gap: 12px;
  }

  .filter-row {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .filter-row label {
    color: #605E5C;
    font-size: 16px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;
  }

  .filter-row input,
  .filter-row select {
    display: flex;
    padding: 10px 8px;
    align-items: center;
    gap: 8px;
    align-self: stretch;
    border-radius: 3px;
    border: 1px solid #8E8A86;
    background: #FFF;
  }

  #run-query,
  #export-table {
    padding: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
  }

  #run-query {
    width: 20%;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }

  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }

  th.sortable:hover {
    cursor: pointer;
    text-decoration: underline;
  }
</style>

<div class="audit-log-tab">
  <div>
    <h1>Audit Log</h1>
    <h2>Sunland Cookie Co.</h2>
    <p>HBX ID: 105609</p>
    <p>Please use the filters below to see specific actions taken on this organization.</p>

    <div class="filters-container">
      <div id="filters-toggle" class="filters-toggle">
        <span class="glyphicon glyphicon-chevron-right" id="filters-arrow"></span>Filters
      </div>
      <div class="filters" id="filters">
        <div class="filter-row">
          <label for="eligibility">Eligibility</label>
          <select id="eligibility">
            <option value="osse">OSSE Eligibility</option>
          </select>
        </div>
        <div class="filter-row">
          <label for="user-id">HBX User / ID</label>
          <input type="text" id="user-id">
        </div>
        <div class="filter-row">
          <label for="start-date">Start Date Range</label>
          <input type="date" id="start-date">
        </div>
        <div class="filter-row">
          <label for="end-date">End Date Range</label>
          <input type="date" id="end-date">
        </div>
      </div>
      <div class="run-query">
        <button id="run-query">Run Query</button>
      </div>
    </div>

    <div class="event-log-header">
      <h3>Event Log for 105609</h3>
      <button id="export-table">Export Table</button>
    </div>
    <table>
      <thead>
      <tr>
        <th>Eligibility</th>
        <th>Outcome</th>
        <th>Performed By</th>
        <th class="sortable" onclick="sortTable(3)">Time &#x25B2;&#x25BC;</th>
      </tr>
      </thead>
      <tbody>
      <tr onclick="toggleDetails(this)">
        <td>OSSE</td>
        <td>Granted</td>
        <td>system@dc.gov (100012)</td>
        <td>12/14/2023 00:00 UTC</td>
      </tr>
      <!-- Additional rows as needed -->
      </tbody>
    </table>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const filtersToggle = document.getElementById('filters-toggle');
    const filters = document.getElementById('filters');
    const arrow = document.getElementById('filters-arrow');
    const runQueryButton = document.getElementById('run-query');

    filtersToggle.addEventListener('click', function(e) {
      e.preventDefault();

      if (filters.style.display === 'none') {
        filters.style.display = 'flex';
        arrow.classList.remove('glyphicon-chevron-right');
        arrow.classList.add('glyphicon-chevron-down');
        runQueryButton.style.display = 'block';
      } else {
        filters.style.display = 'none';
        arrow.classList.remove('glyphicon-chevron-down');
        arrow.classList.add('glyphicon-chevron-right');
        runQueryButton.style.display = 'none';
      }
    });

    // Initially hide the "Run Query" button
    runQueryButton.style.display = 'none';
  });
</script>
